{% extends "admin/layout.html" %}
{% block title %}
  Merchants
{% endblock  %}
{% block css %}
<link href="{{url_for('static',filename='plugins/datatables/jquery.dataTables.min.css')}}" rel="stylesheet" type="text/css"/>
<link href="{{url_for('static',filename='plugins/datatables/buttons.bootstrap.min.css')}}" rel="stylesheet" type="text/css"/>
<link href="{{url_for('static',filename='plugins/datatables/fixedHeader.bootstrap.min.css')}}" rel="stylesheet" type="text/css"/>
<link href="{{url_for('static',filename='plugins/datatables/responsive.bootstrap.min.css')}}" rel="stylesheet" type="text/css"/>
<link href="{{url_for('static',filename='plugins/datatables/scroller.bootstrap.min.css')}}" rel="stylesheet" type="text/css"/>
<link href="{{url_for('static',filename='plugins/datatables/dataTables.colVis.css')}}" rel="stylesheet" type="text/css"/>
<link href="{{url_for('static',filename='plugins/datatables/dataTables.bootstrap.min.css')}}" rel="stylesheet" type="text/css"/>
<link href="{{url_for('static',filename='plugins/datatables/fixedColumns.dataTables.min.css')}}" rel="stylesheet" type="text/css"/>

{% endblock  %}
{% block content %}
<!-- Page-Title -->
<div class="row">
    <div class="col-sm-12">
        <div class="page-title-box">
            <div class="btn-group pull-right">
                    <a class="btn btn-primary" href="{{url_for('admin.search_phone')}}">Add New Merchant</a>
            </div>
            <h4 class="page-title">Merchants</h4>
        </div>
    </div>
</div>
<!-- end page title end breadcrumb -->


<div class="row">
        <div class="col-sm-12">
            <div class="card-box table-responsive">
                <h4 class="m-t-0 header-title"><b>Merchants</b></h4>
                
                <table id="datatable-buttons" class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th>Account Number</th>
                        <th>Phone Number</th>
                        <th>Volunteer Ref Id</th>
                        <th>Name</th>
                        <th>Member Since</th>
                       
                    </tr>
                    </thead>
                    <tbody>
                        {% for merchant in merchants  %}         
                       <tr>
                            <td>{{merchant.account_number}}</td>
                            <td>{{merchant.owner.phone_number}}</td>
                            <td>{{merchant.owner.volunteer_ref_id}}</td>
                            <td>{{merchant.owner.name}}</td>
                            <td>{{merchant.owner.member_since.strftime('%d, %b %Y')}}</td>
                           
                        </tr>
                        
                        {% endfor %}
                 
                    </tbody>
                </table>
            </div>
        </div>
    </div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static',filename='plugins/datatables/jquery.dataTables.min.js')}}"></script>
<script src="{{ url_for('static',filename='plugins/datatables/dataTables.bootstrap.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/jquery.dataTables.min.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/dataTables.bootstrap.js')}}"></script>

<script src="{{url_for('static',filename='plugins/datatables/dataTables.buttons.min.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/buttons.bootstrap.min.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/jszip.min.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/pdfmake.min.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/vfs_fonts.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/buttons.html5.min.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/buttons.print.min.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/dataTables.fixedHeader.min.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/dataTables.keyTable.min.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/dataTables.responsive.min.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/responsive.bootstrap.min.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/dataTables.scroller.min.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/dataTables.colVis.js')}}"></script>
<script src="{{url_for('static',filename='plugins/datatables/dataTables.fixedColumns.min.js')}}"></script>

<!-- init -->
<script src="{{url_for('static',filename='assets/pages/jquery.datatables.init.js')}}"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $('#datatable').dataTable();
        $('#datatable-keytable').DataTable({keys: true});
        $('#datatable-responsive').DataTable();
        $('#datatable-colvid').DataTable({
            "dom": 'C<"clear">lfrtip',
            "colVis": {
                "buttonText": "Change columns"
            }
        });
        $('#datatable-scroller').DataTable({
            ajax: "../plugins/datatables/json/scroller-demo.json",
            deferRender: true,
            scrollY: 380,
            scrollCollapse: true,
            scroller: true
        });
        var table = $('#datatable-fixed-header').DataTable({fixedHeader: true});
        var table = $('#datatable-fixed-col').DataTable({
            scrollY: "300px",
            scrollX: true,
            scrollCollapse: true,
            paging: false,
            fixedColumns: {
                leftColumns: 1,
                rightColumns: 1
            }
        });
    });
    TableManageButtons.init();

</script>
{% endblock  %}